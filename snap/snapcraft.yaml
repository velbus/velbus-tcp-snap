name: velbus-tcp
version: 2.0.0
base: core22
summary: Python application that bridges a Velbus installation with TCP
description: |
  Python application that bridges a Velbus installation with TCP.

grade: stable
confinement: strict

apps:
  velbus-tcp:
    command: bin/python3 $SNAP/__main__.py --settings $SNAP_DATA/settings.json
    daemon: simple
    plugs: [network-bind, serial-port, raw-usb]

parts:
  extra: 
    plugin: dump
    source: extra

  src:
    plugin: python
    source: https://github.com/velbus/python-velbustcp.git
    source-branch: releases/1.6.1
    python-packages: [pyserial, pytz, tzlocal]
    stage-packages: [openssl]
